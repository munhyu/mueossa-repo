<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>mueossa</title>
  <link rel="stylesheet" th:href="@{/css/main_style.css}" />
</head>

<body>
  <div class="background"></div>

  <div class="mobile-frame">
    <div class="topbar">
      <h1>mueossa</h1>
      <div class="search-place">
        <form action="#" class="search-keyword">
          <input type="text" placeholder="검색어를 입력하세요" />
          <button type="submit" class="search-button"></button>
        </form>
      </div>

      <div class="login-box" onclick="showPage('login')">
        <img th:src="@{/images/favicon_login.ico}" alt="Login" class="login-image">
      </div>

    </div>

    <div id="home" class="page active">
      <div class="banner">
        <img src="https://picsum.photos/400/150?random=1" alt="배너" />
      </div>

      <div class="section-title">New Arrivals</div>
      <div class="product-list">
        <!-- 상품 카드 반복 -->
        <!-- 18개의 카드 -->
        <!-- for demo purposes only -->
        <!-- 각 카드마다 random 이미지 부여 -->
        <!-- 반복적으로 생성 -->
        <!-- 아래는 예시 -->

        <!-- 반복문처럼 생성된 카드들 -->
        <!-- 아래 예시로 18개 중 1~3만 예시로 작성 -->
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=1" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">플라워 원피스</div>
            <div class="product-price">₩39,000</div>
          </div>
        </div>

        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=2" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>

        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>
        <div class="product-card">
          <img src="https://picsum.photos/300/200?random=3" alt="상품 이미지" />
          <div class="product-info">
            <div class="product-title">베이직 셔츠</div>
            <div class="product-price">₩29,000</div>
          </div>
        </div>

        <!-- 생략된 나머지 카드들은 같은 형식으로 4~18까지 random 파라미터만 바꾸면 됨 -->
      </div>
    </div>

    <!-- 여기 tabbar 메뉴에요! -->
    <div class="tabbar">
      <a onclick="showPage('home')">
        <img src="https://cdn-icons-png.flaticon.com/512/25/25694.png" alt="홈" />
        홈
      </a>
      <a onclick="showPage('category')">
        <img src="https://cdn-icons-png.flaticon.com/512/25/25391.png" alt="장바구니" />
        카테고리
      </a>
      <a onclick="showPage('wishlist')">
        <img src="https://cdn-icons-png.flaticon.com/512/1077/1077035.png" alt="찜" />
        찜
      </a>
      <a onclick="showPage('profile')">
        <img src="https://cdn-icons-png.flaticon.com/512/747/747376.png" alt="마이페이지" />
        마이페이지
      </a>
    </div>

    <!-- 여기 로그인이에요! -->
    <div id="login" class="page">
      <div class="section-title">LOGIN</div>

      <!-- 로그인 폼 위에 에러 메시지 출력 -->
      <div th:if="${error != null and error != ''}" class="error-message">
        <p th:text="${error}"></p>
      </div>

      <form method="post" th:action="@{/memberLogin}" th:object="${member}">
        <!-- 아이디 또는 이메일 입력 -->
        <span class="login-id">
          <input type="text" id="login-id" name="id" placeholder="ID 또는 email" required />
        </span>

        <!-- 비밀번호 입력 -->
        <span class="login-pw">
          <input type="password" id="login-pw" name="password" placeholder="Password" required />
        </span>

        <div class="divider"></div>

        <!-- 하단 링크 -->
        <div class="login-links">
          <a onclick="showPage('join')">회원가입</a> |
          <a href="#">비밀번호 재설정</a> |
          <a href="#">문의하기</a>
        </div>

        <!-- 로그인 버튼 -->
        <div class="login-buttons">
          <button type="submit">로그인</button>
        </div>
      </form>
    </div>

    <!-- 여기 회원가입이에요! -->
    <div id="join" class="page">
      <div class="section-title">SIGN UP</div>

      <!-- 회원가입 폼 위에 에러 메시지 출력 -->
      <div th:if="${error != null and error != ''}" class="error-message">
        <p th:text="${error}"></p>
      </div>

      <form method="post" th:action="@{/memberInsert}" th:object="${member}">
        <!-- 아이디 또는 이메일 입력 -->
        <span class="join-id">
          <div class="input-wrapper">
            <input type="text" id="id" name="id" placeholder="ID 또는 email" required />
            <button type="button" class="check-button">중복확인</button>
          </div>
        </span>

        <!-- 비밀번호 입력 -->
        <span class="join-pw">
          <input type="password" id="pw" name="pw" placeholder="Password" required />
        </span>

        <!-- 비밀번호 확인 -->
        <span class="join-pw-confirm">
          <input type="password" id="pw-confirm" name="pw-confirm" placeholder="Password 확인" required />
        </span>

        <!-- 닉네임 입력 -->
        <span class="join-nickname">
          <input type="text" id="nickname" name="nickname" placeholder="닉네임 입력" required />
        </span>

        <!-- 성별 선택 -->
        <div class="join-gender">
          <select name="gender" id="gender" required>
            <option value="" disabled selected>성별을 선택하세요</option>
            <option value="M">남성</option>
            <option value="F">여성</option>
          </select>
        </div>

        <div class="divider"></div>

        <!-- 하단 링크 -->
        <div class="join-links">
          <a onclick="showPage('login')">로그인</a> |
          <a href="#">비밀번호 재설정</a> |
          <a href="#">계정 찾기</a> |
          <a href="#">문의하기</a>
        </div>

        <!-- 완료 버튼 -->
        <div class="join-buttons">
          <button type="submit">완료</button>
        </div>
      </form>
    </div>

    <!-- 여기 찜이에요! -->
    <div id="wishlist" class="page">
      <div class="section-title">찜한 상품이 없습니다.</div>
    </div>

    <!-- 여기 장바구니에요! -->
    <div id="category" class="page">
      <div class="section-title">카테고리가 비어있습니다.</div>
    </div>

    <!-- 여기 마이페이지에요! -->
    <div id="profile" class="page">
      <div class="section-title">내 정보 페이지입니다.</div>
    </div>
  


  <script>
    
  
    // 스크롤 이벤트 추가
    document.addEventListener("DOMContentLoaded", () => {
    document.addEventListener("scroll", () => {
      const mobileFrame = document.querySelector(".mobile-frame");
      const tabbar = document.querySelector(".tabbar");

      // 부모 요소의 경계값 계산
      const frameRect = mobileFrame.getBoundingClientRect();
      console.log("frameRect.bottom:", frameRect.bottom, "window.innerHeight:", window.innerHeight);

      // 화면 하단에 고정되도록 위치 조정
      if (frameRect.bottom <= window.innerHeight) {
        tabbar.style.position = "absolute";
        tabbar.style.bottom = "0";
      } else {
        tabbar.style.position = "fixed";
        tabbar.style.bottom = "0";
      }
    });
  });
  </script>

</body>

</html>